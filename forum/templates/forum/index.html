{% extends 'forum/base_forum.html' %}  
  
{% block title %}Forum{% endblock %}  
  
{% block forum_content %}  
<div class="d-flex justify-content-between align-items-center mb-4">  
    <h1 class="h2">Forum</h1>  
</div>  
  
{% for category in categories %}  
<div class="card mb-4">  
    <div class="card-header bg-primary text-white">  
        <h5 class="mb-0">  
            <a href="{% url 'forum:category' category.pk %}" class="text-white text-decoration-none">  
                {{ category.name }}  
            </a>  
        </h5>  
        {% if category.description %}  
        <small class="text-white-50">{{ category.description }}</small>  
        {% endif %}  
    </div>  
      
    {% if category.children.exists %}  
    <div class="card-body">  
        <div class="row">  
            {% for subcategory in category.children.all %}  
            <div class="col-md-6 mb-3">  
                <div class="border rounded p-3">  
                    <h6>  
                        <a href="{% url 'forum:category' subcategory.pk %}" class="text-decoration-none">  
                            {{ subcategory.name }}  
                        </a>  
                    </h6>  
                    {% if subcategory.description %}  
                    <small class="text-muted">{{ subcategory.description }}</small>  
                    {% endif %}  
                    <div class="mt-2">  
                        <small class="text-muted">  
                            Topics: {{ subcategory.topics.count }}  
                        </small>  
                    </div>  
                </div>  
            </div>  
            {% endfor %}  
        </div>  
    </div>  
    {% endif %}  
</div>  
{% endfor %}  
{% endblock %}
